/** *	@workflow ResourceDelete *	@desc deletes resource fields using DELETE * *	@param type string [message] *	@param sel string [message] *	@param id integer [message] *	@param field string [message]  ***/RESTClient.jquery.workflow.ResourceDelete = {	run : function(message, memory){		if(message.field || false){			var type = 'rest-id';		}		return FireSpark.Kernel.run([{			service : FireSpark.core.service.LoadConfirm,			confirm : true,			value : 'Are you sure you want to continue ?'		},{			service : FireSpark.jquery.service.FormValidate,			form : message.sel + ' form'		},{			service : FireSpark.jquery.service.FormRead,			form : message.sel + ' form'		},{			service : RESTClient.jquery.service.ResourceRESTURL,			rsrctype : message.type,			rsrcid : message.id,			rsrcfield : message.field || false,			end : true		},{			service : FireSpark.jquery.service.RequestWrite,			type : type || false		},{			service : RESTClient.jquery.service.SessionRESTURL		},{			service : FireSpark.jquery.service.ElementState,			element : message.sel + ' input[name=submit]',			disabled : true		},{			service : FireSpark.jquery.service.ElementContent,			element : message.sel + ' span.status',			data :  FireSpark.core.constant.loadmsg,			duration : 10		},{			service : FireSpark.jquery.service.LoadAjax,			request : 'DELETE',			processData : false,			workflow : [{				service : FireSpark.jquery.service.ElementState,				element : message.sel + ' input[name=submit]',				disable : true			},{				service : FireSpark.jquery.service.ElementContent,				data : RESTClient.jquery.constant.successimg			}],			errorflow : [{				service : FireSpark.jquery.service.ElementState,				element : message.sel + ' input[name=submit]'			}, {				service : FireSpark.jquery.service.ElementContent,				data : RESTClient.jquery.constant.errorimg			}]		}], memory);	}};
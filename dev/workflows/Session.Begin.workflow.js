/** *	@workflow SessionBegin *	@desc Stores login information into session, authenticates and loads account template * *	@param cntr string [memory] optional default '#account-panel' *	@param sel form-parent selector string [memory] optional default '#login-container' ***/RESTClient.jquery.workflow.SessionBegin = {	input : function(){		return {			optional : { cntr : '#account-panel', sel : '#login-container' }		};	},		run : function($memory){		FireSpark.Kernel.execute([{			service : FireSpark.jquery.service.FormValidate,			form : $memory['sel'] + ' form'		},{			service : RESTClient.jquery.service.SessionWrite,			form : $memory['sel'] + ' form'		},{			service : RESTClient.jquery.service.ResourceRESTURL,			rsrctype : 'allcommunities'		},{			service : RESTClient.jquery.service.SessionRESTURL		},{			service : FireSpark.jquery.workflow.LoadTemplate,			element : $memory['cntr'],			select : true,			template : 'tpl-account',			request : 'GET',			errorflow : {				service : RESTClient.jquery.workflow.SessionEnd,				data : { invalid : true }			}		}], $memory);				/**		 *	Return false to stop browser event		**/		$memory['valid'] = false;		return $memory;	},		output : function(){		return [];	}};
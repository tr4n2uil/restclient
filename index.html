<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>DSpace RESTClient</title>
		<link rel="stylesheet" type="text/css" href="lib/extjs/resources/css/ext-all.css" />
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<link rel="stylesheet" type="text/css" href="css/extjs.css" />
		<link rel="stylesheet" type="text/css" href="css/restclient.css" />
		<!--<head profile="http://www.w3.org/2005/10/profile">
		<link rel="icon" type="image/png" href="/somewhere/myicon.png" />-->
	</head>
	<body>
		<p id="load-status"></p>
		<h1>DSpace RESTClient</h1>

		<div id="test-container"></div>
		<div id="menu-container"></div>
		<div id="main-container">
			<div id="tree-container" ></div>
			<div id="tab-container"></div>
		</div>
		<div id="footer">
			<p>Powered by the ServiceClient</p>
		</div>

		<ul id="validation">
			<li>
				<a href="http://validator.w3.org/check?uri=referer">
					<img src="img/validation/valid-xhtml10-blue.png" alt="Valid XHTML 1.0!" height="31" width="88" />
				</a>
			</li>
			<li>
				<a href="http://jigsaw.w3.org/css-validator/check/referer">
					<img src="img/validation/valid-css-blue.png" alt="Valid CSS!" height="31" width="88" />
				</a>
			</li>
		</ul>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading Ext JS Core API ...';
	</script>
	<script type="text/javascript" src="lib/extjs/adapter/ext/ext-base.js"></script>
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading Ext JS UI Components ...';
	</script>
    <script type="text/javascript" src="lib/extjs/ext-all.js"></script>
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading ServiceClient Ext JS ...';
	</script>
    <script type="text/javascript" src="lib/serviceclient/extjs-serviceclient.js"></script>		
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading Templates ...';
	</script>
    <script type="text/javascript" src="templates/TestTemplate.js"></script>		
	<script type="text/javascript">
		Ext.onReady(function(){
			Ext.BLANK_IMAGE_URL = 'lib/extjs/resources/images/default/s.gif';
		});
		var load_el = Ext.get('load-status');
		load_el.dom.innerHTML = 'Loading Ext JS QuickTips Component ...';
		Ext.QuickTips.init();
		load_el.dom.innerHTML = 'Initializing ...';
		load_el.fadeOut({ 
			duration: 5,
			easing: 'easeBoth'
		});
		
		var sckernel = ServiceClient.client.Kernel;
		sckernel.addView('element', new ServiceClient.extjs.view.ElementView());
		sckernel.addView('tab', new ServiceClient.extjs.view.TabView({
			container : 'tab-container',
			border : true,
			plain : true,
			autoHeight : true
		}));
		sckernel.addTemplate('test', new TestTemplate());
		sckernel.addRenderer('tplrndr', new ServiceClient.extjs.renderer.TemplateRenderer());
		sckernel.addRenderer('treerndr',  new ServiceClient.extjs.renderer.TreeRenderer());
		
		sckernel.start({
			task : {
				view : 'tab',
				template : 'test',
				renderer : 'tplrndr'
			},
			params : {
				tabtitle : 'RESTClient',
				iconCls : 'icon-tabs',
				isclosable : true,
				autoload : false,
				loadurl : 'json/data.json',
				loadparams : {}
			}
		});
		
		sckernel.start({
			task : {
				view : 'element',
				template : false,
				renderer : 'treerndr'
			},
			params : {
				elementid : 'tree-container',
				loadurl : 'json/navigation.json',
				roottext : 'DSpace',
				rootid : '/',
				border : false,
				useArrows : true
			}
		});
		
	</script>   
	<!--<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading TabUI ...';
	</script>
    <script type="text/javascript" src="/libraries/js/TabUI.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading CardUI ...';
	</script>
    <script type="text/javascript" src="/libraries/js/CardUI.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading TemplateManager ...';
	</script>
    <script type="text/javascript" src="/libraries/js/TemplateManager.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading ComponentManager ...';
	</script>
    <script type="text/javascript" src="/libraries/js/ComponentManager.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading TreeUI ...';
	</script>
    <script type="text/javascript" src="/libraries/js/TreeUI.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading LoginForm ...';
	</script>
    <script type="text/javascript" src="/libraries/js/LoginForm.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading ResetForm ...';
	</script>

    <script type="text/javascript" src="/libraries/js/ResetForm.js"></script>	
	<script type="text/javascript">
		document.getElementById('load-status').innerHTML = 'Loading RegisterForm ...';
	</script>
    <script type="text/javascript" src="/libraries/js/RegisterForm.js"></script>    
	

		<script type="text/javascript" >
				
			Ext.onReady(function(){
				//Ext.Msg.alert('Hello', 'World');
				var tm = new TemplateManager();
				
				var cm = new ComponentManager();
				cm.add('login', LoginForm);
				cm.add('reset', ResetForm);
				cm.add('register', RegisterForm);
				
				var tabui = new TabUI('tab-container');
				var treeui = new TreeUI('tree-container', 'json/navigation.php', 'SwarmLead', 'icon-tabs', tabui, tm, cm);
				
				var tb = new Ext.Toolbar({
					items: treeui.menuitems
				}).render('menu-container');
				
			});
		</script> -->
		
	</body>
</html>
